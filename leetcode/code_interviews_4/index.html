<!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="An Android Developer."><link href=https://blog.yorek.xyz/about-me/leetcode/code_interviews_4/ rel=canonical><meta name=author content="Yorek Liu"><meta name=lang:clipboard.copy content=复制><meta name=lang:clipboard.copied content=已复制><meta name=lang:search.language content=ja><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content=没有找到符合条件的结果><meta name=lang:search.result.one content="找到 1 个符合条件的结果"><meta name=lang:search.result.other content="# 个符合条件的结果"><meta name=lang:search.tokenizer content=[\uff0c\u3002]+><link rel="shortcut icon" href=../../assets/images/favicon.ico><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.6.0"><title>解决问题的思路</title><link rel=stylesheet href=../../assets/stylesheets/application.1b62728e.css><link rel=stylesheet href=../../assets/stylesheets/application-palette.a8b3c06d.css><meta name=theme-color content><script src=../../assets/javascripts/modernizr.268332fc.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../assets/fonts/material-icons.css><link rel=manifest href=../../manifest.webmanifest><script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-155096376-1", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script><script async src=https://www.google-analytics.com/analytics.js></script><!-- Determine title --><!-- The image needs to have an absolute URL --><!-- Open graph meta tags --><meta property=og:type content=website><meta property=og:title content="Yorek's - 解决问题的思路"><meta property=og:description content="An Android Developer."><meta content=https://blog.yorek.xyz/about-me/leetcode/code_interviews_4/ property=og:url><meta property=og:image content=https://blog.yorek.xyz/about-meassets/images/banner.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><!-- Twitter meta tags --><meta name=twitter:card content=summary_large_image><meta name=twitter:site content=@squidfunk><meta name=twitter:creator content=@squidfunk><meta name=twitter:title content="Yorek's - 解决问题的思路"><meta name=twitter:description content="An Android Developer."><meta name=twitter:image content=https://blog.yorek.xyz/about-meassets/images/banner.png></head> <body dir=ltr data-md-color-primary=white data-md-color-accent=blue> <svg class=md-svg> <defs> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#1 tabindex=1 class=md-skip> 跳转至 </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://blog.yorek.xyz/about-me title="Yorek's" class="md-header-nav__button md-logo"> <img src=../../assets/images/favicon.ico width=24 height=24> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Yorek's </span> <span class=md-header-nav__topic> 解决问题的思路 </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> 键入以开始搜索 </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container> <nav class="md-tabs md-tabs--active" data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../android/3rd-library/3rd-library-source-code/ class=md-tabs__link> Android </a> </li> <li class=md-tabs__item> <a href=../../flutter/flutter_first_project_1/ class=md-tabs__link> Flutter </a> </li> <li class=md-tabs__item> <a href=../ class="md-tabs__link md-tabs__link--active"> LeetCode </a> </li> <li class=md-tabs__item> <a href=../../design-pattern/design-pattern/ class=md-tabs__link> Books </a> </li> </ul> </div> </nav> <main class=md-main role=main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://blog.yorek.xyz/about-me title="Yorek's" class="md-nav__button md-logo"> <img src=../../assets/images/favicon.ico width=48 height=48> </a> Yorek's </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. title=Home class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Android </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-2> Android </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2-1 type=checkbox id=nav-2-1> <label class=md-nav__link for=nav-2-1> 三方库源码解析 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-2-1> 三方库源码解析 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../android/3rd-library/3rd-library-source-code/ title=Android三方库源码分析 class=md-nav__link> Android三方库源码分析 </a> </li> <li class=md-nav__item> <a href=../../android/3rd-library/matrix/ title="微信APM Matrix解析" class=md-nav__link> 微信APM Matrix解析 </a> </li> <li class=md-nav__item> <a href=../../android/3rd-library/matrix-trace/ title=Matrix-TraceCanary解析 class=md-nav__link> Matrix-TraceCanary解析 </a> </li> <li class=md-nav__item> <a href=../../android/3rd-library/matrix-io/ title=Matrix-IOCanary解析 class=md-nav__link> Matrix-IOCanary解析 </a> </li> <li class=md-nav__item> <a href=../../android/3rd-library/matrix-resource/ title=Matrix-ResourceCanary解析 class=md-nav__link> Matrix-ResourceCanary解析 </a> </li> <li class=md-nav__item> <a href=../../android/3rd-library/matrix-sqlitelint/ title=Matrix-SQLiteLint解析 class=md-nav__link> Matrix-SQLiteLint解析 </a> </li> <li class=md-nav__item> <a href=../../android/3rd-library/okhttp/ title=OkHttp3源码解析 class=md-nav__link> OkHttp3源码解析 </a> </li> <li class=md-nav__item> <a href=../../android/3rd-library/retrofit/ title=Retrofit2源码解析 class=md-nav__link> Retrofit2源码解析 </a> </li> <li class=md-nav__item> <a href=../../android/3rd-library/rxjava&rxandroid/ title=RxJava源码解析及使用实例 class=md-nav__link> RxJava源码解析及使用实例 </a> </li> <li class=md-nav__item> <a href=../../android/other/RxJava/ title=RxJava操作符大全 class=md-nav__link> RxJava操作符大全 </a> </li> <li class=md-nav__item> <a href=../../android/3rd-library/glide1/ title="Glide v4 源码解析（一）" class=md-nav__link> Glide v4 源码解析（一） </a> </li> <li class=md-nav__item> <a href=../../android/3rd-library/glide2/ title="Glide v4 源码解析（二）" class=md-nav__link> Glide v4 源码解析（二） </a> </li> <li class=md-nav__item> <a href=../../android/3rd-library/glide3/ title="Glide v4 源码解析（三）" class=md-nav__link> Glide v4 源码解析（三） </a> </li> <li class=md-nav__item> <a href=../../android/3rd-library/glide4/ title="Glide v4 源码解析（四）" class=md-nav__link> Glide v4 源码解析（四） </a> </li> <li class=md-nav__item> <a href=../../android/3rd-library/glide5/ title="Glide v4 源码解析（五）" class=md-nav__link> Glide v4 源码解析（五） </a> </li> <li class=md-nav__item> <a href=../../android/3rd-library/glide6/ title="Glide v4 源码解析（六）" class=md-nav__link> Glide v4 源码解析（六） </a> </li> <li class=md-nav__item> <a href=../../android/3rd-library/glide7/ title="Glide v4 源码解析（七）" class=md-nav__link> Glide v4 源码解析（七） </a> </li> <li class=md-nav__item> <a href=../../android/3rd-library/migrate-to-glide/ title=杂记：从Picasso迁移至Glide class=md-nav__link> 杂记：从Picasso迁移至Glide </a> </li> <li class=md-nav__item> <a href=../../android/3rd-library/eventbus/ title=EventBus源码解析 class=md-nav__link> EventBus源码解析 </a> </li> <li class=md-nav__item> <a href=../../android/3rd-library/leakcanary/ title=LeakCanary2源码解析 class=md-nav__link> LeakCanary2源码解析 </a> </li> <li class=md-nav__item> <a href=../../android/3rd-library/permissiondispatcher/ title=PermissionDispatcher源码解析 class=md-nav__link> PermissionDispatcher源码解析 </a> </li> <li class=md-nav__item> <a href=../../android/other/constraintlayout/ title=ConstraintLayout使用大全 class=md-nav__link> ConstraintLayout使用大全 </a> </li> <li class=md-nav__item> <a href=../../android/other/dagger2/ title=初学者的Dagger2教程 class=md-nav__link> 初学者的Dagger2教程 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2-2 type=checkbox id=nav-2-2> <label class=md-nav__link for=nav-2-2> Android开发高手课 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-2-2> Android开发高手课 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../android/paid/master/ title=Android开发高手课 class=md-nav__link> Android开发高手课 </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/crash_1/ title="01 | 崩溃优化（上）：关于“崩溃”那些事儿" class=md-nav__link> 01 | 崩溃优化（上）：关于“崩溃”那些事儿 </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/crash_2/ title="02 | 崩溃优化（下）：应用崩溃了，你应该如何去分析？" class=md-nav__link> 02 | 崩溃优化（下）：应用崩溃了，你应该如何去分析？ </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/memory_1/ title="03 | 内存优化（上）：4GB内存时代，再谈内存优化" class=md-nav__link> 03 | 内存优化（上）：4GB内存时代，再谈内存优化 </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/memory_2/ title="04 | 内存优化（下）：内存优化这件事，应该从哪里着手？" class=md-nav__link> 04 | 内存优化（下）：内存优化这件事，应该从哪里着手？ </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/stuck_1/ title="05 | 卡顿优化（上）：你要掌握的卡顿分析方法" class=md-nav__link> 05 | 卡顿优化（上）：你要掌握的卡顿分析方法 </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/stuck_2/ title="06 | 卡顿优化（下）：如何监控应用卡顿？" class=md-nav__link> 06 | 卡顿优化（下）：如何监控应用卡顿？ </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/stuck_3/ title="06补充篇 | 卡顿优化：卡顿现场与卡顿分析" class=md-nav__link> 06补充篇 | 卡顿优化：卡顿现场与卡顿分析 </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/start_1/ title="07 | 启动优化（上）：从启动过程看启动速度优化" class=md-nav__link> 07 | 启动优化（上）：从启动过程看启动速度优化 </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/start_2/ title="08 | 启动优化（下）：优化启动速度的进阶方法" class=md-nav__link> 08 | 启动优化（下）：优化启动速度的进阶方法 </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/io_1/ title="09 | I/O优化（上）：开发工程师必备的I/O优化知识" class=md-nav__link> 09 | I/O优化（上）：开发工程师必备的I/O优化知识 </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/io_2/ title="10 | I/O优化（中）：不同I/O方式的使用场景是什么？" class=md-nav__link> 10 | I/O优化（中）：不同I/O方式的使用场景是什么？ </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/io_3/ title="11 | I/O优化（下）：如何监控线上I/O操作？" class=md-nav__link> 11 | I/O优化（下）：如何监控线上I/O操作？ </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/storage_1/ title="12 | 存储优化（上）：常见的数据存储方法有哪些？" class=md-nav__link> 12 | 存储优化（上）：常见的数据存储方法有哪些？ </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/storage_2/ title="13 | 存储优化（中）：如何优化数据存储？" class=md-nav__link> 13 | 存储优化（中）：如何优化数据存储？ </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/storage_3/ title="14 | 存储优化（下）：数据库SQLite的使用和优化" class=md-nav__link> 14 | 存储优化（下）：数据库SQLite的使用和优化 </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/network_1/ title="15 | 网络优化（上）：移动开发工程师必备的网络优化知识" class=md-nav__link> 15 | 网络优化（上）：移动开发工程师必备的网络优化知识 </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/network_2/ title="16 | 网络优化（中）：复杂多变的移动网络该如何优化？" class=md-nav__link> 16 | 网络优化（中）：复杂多变的移动网络该如何优化？ </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/network_3/ title="17 | 网络优化（下）：大数据下网络该如何监控？" class=md-nav__link> 17 | 网络优化（下）：大数据下网络该如何监控？ </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/battery_1/ title="18 | 耗电优化（上）：从电量优化的演进看耗电分析" class=md-nav__link> 18 | 耗电优化（上）：从电量优化的演进看耗电分析 </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/battery_2/ title="19 | 耗电优化（下）：耗电的优化方法与线上监控" class=md-nav__link> 19 | 耗电优化（下）：耗电的优化方法与线上监控 </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/ui_1/ title="20 | UI 优化（上）：UI 渲染的几个关键概念" class=md-nav__link> 20 | UI 优化（上）：UI 渲染的几个关键概念 </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/ui_2/ title="21 | UI 优化（下）：如何优化 UI 渲染？" class=md-nav__link> 21 | UI 优化（下）：如何优化 UI 渲染？ </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/package_1/ title="22 | 包体积优化（上）：如何减少安装包大小？" class=md-nav__link> 22 | 包体积优化（上）：如何减少安装包大小？ </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/package_2/ title="23 | 包体积优化（下）：资源优化的进阶实践" class=md-nav__link> 23 | 包体积优化（下）：资源优化的进阶实践 </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/compile/ title="26 | 关于编译，你需要了解什么？" class=md-nav__link> 26 | 关于编译，你需要了解什么？ </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/bytecode/ title="27 | 编译插桩的三种方法：AspectJ、ASM、ReDex" class=md-nav__link> 27 | 编译插桩的三种方法：AspectJ、ASM、ReDex </a> </li> <li class=md-nav__item> <a href=../../android/paid/master/native_hook/ title="35 | Native Hook 技术，天使还是魔鬼？" class=md-nav__link> 35 | Native Hook 技术，天使还是魔鬼？ </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2-3 type=checkbox id=nav-2-3> <label class=md-nav__link for=nav-2-3> Framework系列 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-2-3> Framework系列 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../android/framework/Android四大组件(1)/ title=Activity class=md-nav__link> Activity </a> </li> <li class=md-nav__item> <a href=../../android/framework/Android四大组件(2)/ title=Service class=md-nav__link> Service </a> </li> <li class=md-nav__item> <a href=../../android/framework/Android四大组件(3)/ title=Broadcasts class=md-nav__link> Broadcasts </a> </li> <li class=md-nav__item> <a href=../../android/framework/Android四大组件(4)/ title="Content Providers与Fragment" class=md-nav__link> Content Providers与Fragment </a> </li> <li class=md-nav__item> <a href=../../android/framework/IPC机制/ title=IPC机制 class=md-nav__link> IPC机制 </a> </li> <li class=md-nav__item> <a href=../../android/framework/View的事件体系/ title=View的事件体系 class=md-nav__link> View的事件体系 </a> </li> <li class=md-nav__item> <a href=../../android/framework/View的绘制原理/ title=View的绘制原理 class=md-nav__link> View的绘制原理 </a> </li> <li class=md-nav__item> <a href=../../android/framework/RemoteViews/ title=RemoteViews class=md-nav__link> RemoteViews </a> </li> <li class=md-nav__item> <a href=../../android/framework/Drawable/ title=Android中的Drawable资源 class=md-nav__link> Android中的Drawable资源 </a> </li> <li class=md-nav__item> <a href=../../android/framework/Android动画/ title=Android动画 class=md-nav__link> Android动画 </a> </li> <li class=md-nav__item> <a href=../../android/framework/Window与WindowManager/ title=Window与WindowManager class=md-nav__link> Window与WindowManager </a> </li> <li class=md-nav__item> <a href=../../android/framework/四大组件启动过程/ title=四大组件启动过程 class=md-nav__link> 四大组件启动过程 </a> </li> <li class=md-nav__item> <a href=../../android/framework/Android消息机制/ title=Android消息机制 class=md-nav__link> Android消息机制 </a> </li> <li class=md-nav__item> <a href=../../android/framework/Android线程与线程池/ title=Android线程与线程池 class=md-nav__link> Android线程与线程池 </a> </li> <li class=md-nav__item> <a href=../../android/framework/Bitmap的缓存与加载/ title=Bitmap的缓存与加载 class=md-nav__link> Bitmap的缓存与加载 </a> </li> <li class=md-nav__item> <a href=../../android/framework/JNI与NDK/ title=JNI与NDK编程简介 class=md-nav__link> JNI与NDK编程简介 </a> </li> <li class=md-nav__item> <a href=../../android/framework/性能优化/ title=Android性能优化 class=md-nav__link> Android性能优化 </a> </li> <li class=md-nav__item> <a href=../../android/framework/binder1-mediaservice/ title=Binder深入理解——以MediaService为例 class=md-nav__link> Binder深入理解——以MediaService为例 </a> </li> <li class=md-nav__item> <a href=../../android/framework/binder2/ title=Binder深入理解——罗老师系列 class=md-nav__link> Binder深入理解——罗老师系列 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2-4 type=checkbox id=nav-2-4> <label class=md-nav__link for=nav-2-4> 付费知识归档 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-2-4> 付费知识归档 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2-4-1 type=checkbox id=nav-2-4-1> <label class=md-nav__link for=nav-2-4-1> 某圈问题索引 </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-2-4-1> 某圈问题索引 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../android/paid/zsxq/zsxq_index/ title=某圈问题索引 class=md-nav__link> 某圈问题索引 </a> </li> <li class=md-nav__item> <a href=../../android/paid/zsxq/week1-synchronized/ title=理解Java中synchronized关键词 class=md-nav__link> 理解Java中synchronized关键词 </a> </li> <li class=md-nav__item> <a href=../../android/paid/zsxq/week2-service/ title=理解Service class=md-nav__link> 理解Service </a> </li> <li class=md-nav__item> <a href=../../android/paid/zsxq/week3-activity/ title=理解Activity的启动模式 class=md-nav__link> 理解Activity的启动模式 </a> </li> <li class=md-nav__item> <a href=../../android/paid/zsxq/week4-startActivityForResult/ title=关于startActivityForResult class=md-nav__link> 关于startActivityForResult </a> </li> <li class=md-nav__item> <a href=../../android/paid/zsxq/week5-view/ title=关于View的知识 class=md-nav__link> 关于View的知识 </a> </li> <li class=md-nav__item> <a href=../../android/paid/zsxq/week6-gradle/ title=关于Gradle的知识 class=md-nav__link> 关于Gradle的知识 </a> </li> <li class=md-nav__item> <a href=../../android/paid/zsxq/week7-serialization/ title=关于序列化的知识 class=md-nav__link> 关于序列化的知识 </a> </li> <li class=md-nav__item> <a href=../../android/paid/zsxq/week10-classloader/ title=Android中的ClassLoader class=md-nav__link> Android中的ClassLoader </a> </li> <li class=md-nav__item> <a href=../../android/paid/zsxq/week11-binder/ title=Binder简介 class=md-nav__link> Binder简介 </a> </li> <li class=md-nav__item> <a href=../../android/paid/zsxq/week12-retrofit-okhttp/ title=OkHttp和Retrofit的作用以及两者之间的联系 class=md-nav__link> OkHttp和Retrofit的作用以及两者之间的联系 </a> </li> <li class=md-nav__item> <a href=../../android/paid/zsxq/week14-jvm-gc/ title=JVM中垃圾回收策略 class=md-nav__link> JVM中垃圾回收策略 </a> </li> <li class=md-nav__item> <a href=../../android/paid/zsxq/week16-keep-app-alive/ title=进程保活 class=md-nav__link> 进程保活 </a> </li> <li class=md-nav__item> <a href=../../android/paid/zsxq/week17-android-components/ title=四大组件的作用以及多进程 class=md-nav__link> 四大组件的作用以及多进程 </a> </li> <li class=md-nav__item> <a href=../../android/paid/zsxq/week20-network-protocol/ title=网络协议 class=md-nav__link> 网络协议 </a> </li> <li class=md-nav__item> <a href=../../android/paid/zsxq/week21-mvc&amp;mvp&mvvm/ title=MVC、MVP和MVVM class=md-nav__link> MVC、MVP和MVVM </a> </li> <li class=md-nav__item> <a href=../../android/paid/zsxq/week22-android-studio-build/ title="Android Studio build过程" class=md-nav__link> Android Studio build过程 </a> </li> <li class=md-nav__item> <a href=../../android/paid/zsxq/week23-load-large-bitmap/ title=大尺寸图片加载问题 class=md-nav__link> 大尺寸图片加载问题 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2-5 type=checkbox id=nav-2-5> <label class=md-nav__link for=nav-2-5> 日常记录 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-2-5> 日常记录 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../android/other/annotation/ title=注解的定义及解析 class=md-nav__link> 注解的定义及解析 </a> </li> <li class=md-nav__item> <a href=../../android/other/best_throttle_in_mvvm/ title=这可能是MVVM中最优雅的按键防抖方案 class=md-nav__link> 这可能是MVVM中最优雅的按键防抖方案 </a> </li> <li class=md-nav__item> <a href=../../android/other/android-jenkins/ title="Jenkins for android" class=md-nav__link> Jenkins for android </a> </li> <li class=md-nav__item> <a href=../../android/other/SystemProrities/ title=普通Android程序使用SystemProrities class=md-nav__link> 普通Android程序使用SystemProrities </a> </li> <li class=md-nav__item> <a href=../../android/other/recyclerview-cache/ title=ListView、RecyclerView缓存策略解析 class=md-nav__link> ListView、RecyclerView缓存策略解析 </a> </li> <li class=md-nav__item> <a href=../../android/other/recyclerview-item-docoration/ title=RecyclerView高级特性——ItemDecoration class=md-nav__link> RecyclerView高级特性——ItemDecoration </a> </li> <li class=md-nav__item> <a href=../../android/other/recyclerview-others/ title=RecyclerView的一些使用细节 class=md-nav__link> RecyclerView的一些使用细节 </a> </li> <li class=md-nav__item> <a href=../../android/other/RecyclerView-Sort&Delete/ title=RecyclerView高级特性——拖拽排序以及滑动删除 class=md-nav__link> RecyclerView高级特性——拖拽排序以及滑动删除 </a> </li> <li class=md-nav__item> <a href=../../android/other/FAB-Behavior/ title=FloatingActionButton上滑隐藏下滑显示 class=md-nav__link> FloatingActionButton上滑隐藏下滑显示 </a> </li> <li class=md-nav__item> <a href=../../android/other/nestedscrolling/ title=NestedScrolling机制 class=md-nav__link> NestedScrolling机制 </a> </li> <li class=md-nav__item> <a href=../../android/other/porterduff/ title=使用Porter-Duff合成数字图像 class=md-nav__link> 使用Porter-Duff合成数字图像 </a> </li> <li class=md-nav__item> <a href=../../android/other/runtime/ title="Android Runtime" class=md-nav__link> Android Runtime </a> </li> <li class=md-nav__item> <a href=../../android/other/android_alias/ title=Android马甲包的那些事儿 class=md-nav__link> Android马甲包的那些事儿 </a> </li> <li class=md-nav__item> <a href=../../android/other/Android-Development-Tool/ title=Android神兵利器 class=md-nav__link> Android神兵利器 </a> </li> <li class=md-nav__item> <a href=../../android/other/FileProvider/ title=FileProvider class=md-nav__link> FileProvider </a> </li> <li class=md-nav__item> <a href=../../android/other/Android判断导航栏高度/ title=Android判断虚拟按键(导航栏)显示与否、高度以及获取屏幕实际高度 class=md-nav__link> Android判断虚拟按键(导航栏)显示与否、高度以及获取屏幕实际高度 </a> </li> <li class=md-nav__item> <a href=../../android/other/Android图片选择器/ title=Android图片选择器 class=md-nav__link> Android图片选择器 </a> </li> <li class=md-nav__item> <a href=../../android/other/Android底部导航栏框架/ title=Android原生底部导航栏 class=md-nav__link> Android原生底部导航栏 </a> </li> <li class=md-nav__item> <a href=../../android/other/Android搜索栏的实现/ title=Android搜索栏的实现 class=md-nav__link> Android搜索栏的实现 </a> </li> <li class=md-nav__item> <a href=../../android/other/Android暂停音乐播放器的播放/ title=Android暂停酷狗、网易云音乐等音乐播放器的播放 class=md-nav__link> Android暂停酷狗、网易云音乐等音乐播放器的播放 </a> </li> <li class=md-nav__item> <a href=../../android/other/Android滑动返回实践/ title=Android滑动返回实践 class=md-nav__link> Android滑动返回实践 </a> </li> <li class=md-nav__item> <a href=../../android/other/Android程序反编译/ title=MacOS下Android程序反编译 class=md-nav__link> MacOS下Android程序反编译 </a> </li> <li class=md-nav__item> <a href=../../android/other/Android通讯录快速读取/ title=Android通讯录快速读取 class=md-nav__link> Android通讯录快速读取 </a> </li> <li class=md-nav__item> <a href=../../android/other/soft-keyboard-in-app/ title=App内自定义软键盘 class=md-nav__link> App内自定义软键盘 </a> </li> <li class=md-nav__item> <a href=../../android/other/腾讯X5内核入坑指南/ title="腾讯TBS X5浏览器内核入坑指南" class=md-nav__link> 腾讯TBS X5浏览器内核入坑指南 </a> </li> <li class=md-nav__item> <a href=../../android/other/琐碎知识点/ title=琐碎知识点 class=md-nav__link> 琐碎知识点 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> Flutter </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-3> Flutter </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../flutter/flutter_first_project_1/ title=年轻人的第一个Flutter程序(1) class=md-nav__link> 年轻人的第一个Flutter程序(1) </a> </li> <li class=md-nav__item> <a href=../../flutter/flutter_first_project_2/ title=年轻人的第一个Flutter程序(2) class=md-nav__link> 年轻人的第一个Flutter程序(2) </a> </li> <li class=md-nav__item> <a href=../../flutter/flutter_first_project_3/ title=年轻人的第一个Flutter程序(3) class=md-nav__link> 年轻人的第一个Flutter程序(3) </a> </li> <li class=md-nav__item> <a href=../../flutter/flutter_first_project_4/ title=年轻人的第一个Flutter程序(4) class=md-nav__link> 年轻人的第一个Flutter程序(4) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4 type=checkbox id=nav-4 checked> <label class=md-nav__link for=nav-4> LeetCode </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-4> LeetCode </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ title=算法目录 class=md-nav__link> 算法目录 </a> </li> <li class=md-nav__item> <a href=../code_interviews_1/ title=数据结构、算法和数据操作 class=md-nav__link> 数据结构、算法和数据操作 </a> </li> <li class=md-nav__item> <a href=../code_interviews_3/ title=高质量的代码 class=md-nav__link> 高质量的代码 </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> 解决问题的思路 </label> <a href=./ title=解决问题的思路 class="md-nav__link md-nav__link--active"> 解决问题的思路 </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>目录</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#1 class=md-nav__link> 1. 画图让抽象问题形象化 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#11-27 class=md-nav__link> 1.1 (27)二叉树的镜像 </a> </li> <li class=md-nav__item> <a href=#12-28 class=md-nav__link> 1.2 (28)对称的二叉树 </a> </li> <li class=md-nav__item> <a href=#13-29 class=md-nav__link> 1.3 (29)顺时针打印矩阵 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2 class=md-nav__link> 2. 举例让抽象问题具体化 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#21-30min class=md-nav__link> 2.1 (30)包含min函数的栈 </a> </li> <li class=md-nav__item> <a href=#22-31 class=md-nav__link> 2.2 (31)栈的压入、弹出序列 </a> </li> <li class=md-nav__item> <a href=#23-32 class=md-nav__link> 2.3 (32)从上到下打印二叉树 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#231 class=md-nav__link> 2.3.1 不分行从上到下打印二叉树 </a> </li> <li class=md-nav__item> <a href=#232 class=md-nav__link> 2.3.2 分行从上到下打印二叉树 </a> </li> <li class=md-nav__item> <a href=#233 class=md-nav__link> 2.3.3 之字形打印二叉树 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#24-33 class=md-nav__link> 2.4 (33)二叉搜索树的后序遍历序列 </a> </li> <li class=md-nav__item> <a href=#25-34 class=md-nav__link> 2.5 (34)二叉树中和为某一值的路径 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3 class=md-nav__link> 3. 分解让复杂问题简单化 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#31-35 class=md-nav__link> 3.1 (35)复杂链表的复制 </a> </li> <li class=md-nav__item> <a href=#32-36 class=md-nav__link> 3.2 (36)二叉搜索树与双向链表 </a> </li> <li class=md-nav__item> <a href=#33-37 class=md-nav__link> 3.3 (37)序列化二叉树 </a> </li> <li class=md-nav__item> <a href=#34-38 class=md-nav__link> 3.4 (38)字符串的排列 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#__comments class="md-nav__link md-nav__link--active"> 评论 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../code_interviews_5/ title=优化时间和空间效率 class=md-nav__link> 优化时间和空间效率 </a> </li> <li class=md-nav__item> <a href=../code_interviews_6/ title=面试中的各项能力 class=md-nav__link> 面试中的各项能力 </a> </li> <li class=md-nav__item> <a href=../array/ title=Array class=md-nav__link> Array </a> </li> <li class=md-nav__item> <a href=../leetcode1-10/ title=LeetCode(1-10) class=md-nav__link> LeetCode(1-10) </a> </li> <li class=md-nav__item> <a href=../leetcode11-20/ title=LeetCode(11-20) class=md-nav__link> LeetCode(11-20) </a> </li> <li class=md-nav__item> <a href=../leetcode21-30/ title=LeetCode(21-30) class=md-nav__link> LeetCode(21-30) </a> </li> <li class=md-nav__item> <a href=../leetcode31-40/ title=LeetCode(31-40) class=md-nav__link> LeetCode(31-40) </a> </li> <li class=md-nav__item> <a href=../leetcode41-50/ title=LeetCode(41-50) class=md-nav__link> LeetCode(41-50) </a> </li> <li class=md-nav__item> <a href=../leetcode51-60/ title=LeetCode(51-60) class=md-nav__link> LeetCode(51-60) </a> </li> <li class=md-nav__item> <a href=../leetcode61-70/ title=LeetCode(61-70) class=md-nav__link> LeetCode(61-70) </a> </li> <li class=md-nav__item> <a href=../leetcode71-80/ title=LeetCode(71-80) class=md-nav__link> LeetCode(71-80) </a> </li> <li class=md-nav__item> <a href=../leetcode81-90/ title=LeetCode(81-90) class=md-nav__link> LeetCode(81-90) </a> </li> <li class=md-nav__item> <a href=../leetcode91-100/ title=LeetCode(91-100) class=md-nav__link> LeetCode(91-100) </a> </li> <li class=md-nav__item> <a href=../leetcode101-110/ title=LeetCode(101-110) class=md-nav__link> LeetCode(101-110) </a> </li> <li class=md-nav__item> <a href=../leetcode111-120/ title=LeetCode(111-120) class=md-nav__link> LeetCode(111-120) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Books </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-5> Books </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-1 type=checkbox id=nav-5-1> <label class=md-nav__link for=nav-5-1> Design Pattern </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-1> Design Pattern </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../design-pattern/design-pattern/ title=设计模式概述 class=md-nav__link> 设计模式概述 </a> </li> <li class=md-nav__item> <a href=../../design-pattern/design-principle/ title=面向对象的六大原则 class=md-nav__link> 面向对象的六大原则 </a> </li> <li class=md-nav__item> <a href=../../design-pattern/singleton/ title=单例模式(Singleton) class=md-nav__link> 单例模式(Singleton) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/builder/ title=建造者模式(Builder) class=md-nav__link> 建造者模式(Builder) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/prototype/ title=原型模式(Prototype) class=md-nav__link> 原型模式(Prototype) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/factory-method/ title="工厂方法模式(Factory method)" class=md-nav__link> 工厂方法模式(Factory method) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/abstract-factory/ title="抽象工厂模式(Abstract factory)" class=md-nav__link> 抽象工厂模式(Abstract factory) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/proxy/ title=代理模式(Proxy) class=md-nav__link> 代理模式(Proxy) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/composite/ title=组合模式(Composite) class=md-nav__link> 组合模式(Composite) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/adapter/ title=适配器模式(Adapter) class=md-nav__link> 适配器模式(Adapter) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/decorator/ title=装饰模式(Decorator) class=md-nav__link> 装饰模式(Decorator) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/flyweight/ title=享元模式(Flyweight) class=md-nav__link> 享元模式(Flyweight) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/facade/ title=外观模式(Facade) class=md-nav__link> 外观模式(Facade) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/bridge/ title=桥接模式(Bridge) class=md-nav__link> 桥接模式(Bridge) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/strategy/ title=策略模式(Strategy) class=md-nav__link> 策略模式(Strategy) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/state/ title=状态模式(State) class=md-nav__link> 状态模式(State) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/chain-of-responsibility/ title="责任链模式(Chain of responsibility)" class=md-nav__link> 责任链模式(Chain of responsibility) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/interpreter/ title=解释器模式(Interpreter) class=md-nav__link> 解释器模式(Interpreter) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/command/ title=命令模式(Command) class=md-nav__link> 命令模式(Command) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/observer/ title=观察者模式(Observer) class=md-nav__link> 观察者模式(Observer) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/memento/ title=备忘录模式(Memento) class=md-nav__link> 备忘录模式(Memento) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/iterator/ title=迭代器模式(Iterator) class=md-nav__link> 迭代器模式(Iterator) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/template-method/ title="模版方法模式(Template method)" class=md-nav__link> 模版方法模式(Template method) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/visitor/ title=访问者模式(Visitor) class=md-nav__link> 访问者模式(Visitor) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/mediator/ title=中介者模式(Mediator) class=md-nav__link> 中介者模式(Mediator) </a> </li> <li class=md-nav__item> <a href=../../design-pattern/confusing-design-pattern/ title=易混淆的设计模式 class=md-nav__link> 易混淆的设计模式 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-2 type=checkbox id=nav-5-2> <label class=md-nav__link for=nav-5-2> Effective Java </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-2> Effective Java </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../effective-java/effective-java/ title="Effective Java概述" class=md-nav__link> Effective Java概述 </a> </li> <li class=md-nav__item> <a href=../../effective-java/chapter1/ title=创建和销毁对象 class=md-nav__link> 创建和销毁对象 </a> </li> <li class=md-nav__item> <a href=../../effective-java/chapter2/ title=对于所有对象都通用的方法 class=md-nav__link> 对于所有对象都通用的方法 </a> </li> <li class=md-nav__item> <a href=../../effective-java/chapter3/ title=类和接口 class=md-nav__link> 类和接口 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-3 type=checkbox id=nav-5-3> <label class=md-nav__link for=nav-5-3> JVM </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-3> JVM </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../jvm/jvm-content/ title=深入理解Java虚拟机 class=md-nav__link> 深入理解Java虚拟机 </a> </li> <li class=md-nav__item> <a href=../../jvm/java-memory-area-oom/ title=Java内存区域与内存溢出异常 class=md-nav__link> Java内存区域与内存溢出异常 </a> </li> <li class=md-nav__item> <a href=../../jvm/java-gc/ title=垃圾收集器与内存分配策略 class=md-nav__link> 垃圾收集器与内存分配策略 </a> </li> <li class=md-nav__item> <a href=../../jvm/class-struct/ title=类文件结构 class=md-nav__link> 类文件结构 </a> </li> <li class=md-nav__item> <a href=../../jvm/load-class/ title=虚拟机类加载机制 class=md-nav__link> 虚拟机类加载机制 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-4 type=checkbox id=nav-5-4> <label class=md-nav__link for=nav-5-4> Java </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-4> Java </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../java/generics-java-kotlin/ title=Java&Kotlin在泛型方面的区别 class=md-nav__link> Java&Kotlin在泛型方面的区别 </a> </li> <li class=md-nav__item> <a href=../../java/java-collections/ title=Java集合总结 class=md-nav__link> Java集合总结 </a> </li> <li class=md-nav__item> <a href=../../java/java-foundation/ title=Java常见概念 class=md-nav__link> Java常见概念 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-5 type=checkbox id=nav-5-5> <label class=md-nav__link for=nav-5-5> Refactoring </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-5> Refactoring </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../refactoring/refactoring/ title=重构：改善既有代码的设计 class=md-nav__link> 重构：改善既有代码的设计 </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>目录</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#1 class=md-nav__link> 1. 画图让抽象问题形象化 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#11-27 class=md-nav__link> 1.1 (27)二叉树的镜像 </a> </li> <li class=md-nav__item> <a href=#12-28 class=md-nav__link> 1.2 (28)对称的二叉树 </a> </li> <li class=md-nav__item> <a href=#13-29 class=md-nav__link> 1.3 (29)顺时针打印矩阵 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#2 class=md-nav__link> 2. 举例让抽象问题具体化 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#21-30min class=md-nav__link> 2.1 (30)包含min函数的栈 </a> </li> <li class=md-nav__item> <a href=#22-31 class=md-nav__link> 2.2 (31)栈的压入、弹出序列 </a> </li> <li class=md-nav__item> <a href=#23-32 class=md-nav__link> 2.3 (32)从上到下打印二叉树 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#231 class=md-nav__link> 2.3.1 不分行从上到下打印二叉树 </a> </li> <li class=md-nav__item> <a href=#232 class=md-nav__link> 2.3.2 分行从上到下打印二叉树 </a> </li> <li class=md-nav__item> <a href=#233 class=md-nav__link> 2.3.3 之字形打印二叉树 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#24-33 class=md-nav__link> 2.4 (33)二叉搜索树的后序遍历序列 </a> </li> <li class=md-nav__item> <a href=#25-34 class=md-nav__link> 2.5 (34)二叉树中和为某一值的路径 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3 class=md-nav__link> 3. 分解让复杂问题简单化 </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#31-35 class=md-nav__link> 3.1 (35)复杂链表的复制 </a> </li> <li class=md-nav__item> <a href=#32-36 class=md-nav__link> 3.2 (36)二叉搜索树与双向链表 </a> </li> <li class=md-nav__item> <a href=#33-37 class=md-nav__link> 3.3 (37)序列化二叉树 </a> </li> <li class=md-nav__item> <a href=#34-38 class=md-nav__link> 3.4 (38)字符串的排列 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#__comments class="md-nav__link md-nav__link--active"> 评论 </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1>解决问题的思路</h1> <h2 id=1>1. 画图让抽象问题形象化<a class=headerlink href=#1 title="Permanent link">&para;</a></h2> <h3 id=11-27>1.1 (27)二叉树的镜像<a class=headerlink href=#11-27 title="Permanent link">&para;</a></h3> <blockquote> <p>请完成一个函数，输入一个二叉树，该函数输出它的镜像。</p> </blockquote> <p>二叉树的镜像的特点如下图所示：</p> <p><img alt=两颗互为镜像的二叉树 src=/assets/images/leetcode/ci_binary_tree_27.png></p> <p><center>两颗互为镜像的二叉树</center></p> <p>我们可以看出一棵树的镜像是这么生成的：先前序遍历这棵树的每个节点，如果遍历到的节点有子节点，就交换它的两个子节点。当交换完所有非叶节点的左、右子节点之后，就得到了树的镜像。 </p> <div class=codehilite><pre><span></span><span class=cm>/**</span>
<span class=cm> * 递归实现</span>
<span class=cm> */</span>
<span class=kd>public</span> <span class=n>BinaryTreeNode</span> <span class=nf>mirrorRecursively</span><span class=p>(</span><span class=n>BinaryTreeNode</span> <span class=n>root</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>root</span> <span class=o>==</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=kc>null</span><span class=p>;</span>
    <span class=p>}</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span> <span class=o>==</span> <span class=kc>null</span> <span class=o>&amp;&amp;</span> <span class=n>root</span><span class=p>.</span><span class=na>right</span> <span class=o>==</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=n>root</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=n>BinaryTreeNode</span> <span class=n>left</span> <span class=o>=</span> <span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>;</span>
    <span class=n>root</span><span class=p>.</span><span class=na>left</span> <span class=o>=</span> <span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>;</span>
    <span class=n>root</span><span class=p>.</span><span class=na>right</span> <span class=o>=</span> <span class=n>left</span><span class=p>;</span>

    <span class=k>if</span> <span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>mirrorRecursively</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>);</span>
    <span class=p>}</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>mirrorRecursively</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>);</span>
    <span class=p>}</span>

    <span class=k>return</span> <span class=n>root</span><span class=p>;</span>
<span class=p>}</span>

<span class=cm>/**</span>
<span class=cm> * 循环实现</span>
<span class=cm> */</span>
<span class=kd>public</span> <span class=n>BinaryTreeNode</span> <span class=nf>mirrorIteratively</span><span class=p>(</span><span class=n>BinaryTreeNode</span> <span class=n>root</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>root</span> <span class=o>==</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=kc>null</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=n>Stack</span><span class=o>&lt;</span><span class=n>BinaryTreeNode</span><span class=o>&gt;</span> <span class=n>stack</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Stack</span><span class=o>&lt;&gt;</span><span class=p>();</span>
    <span class=n>stack</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>root</span><span class=p>);</span>

    <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>stack</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span> <span class=p>{</span>
        <span class=n>BinaryTreeNode</span> <span class=n>node</span> <span class=o>=</span> <span class=n>stack</span><span class=p>.</span><span class=na>pop</span><span class=p>();</span>

        <span class=n>BinaryTreeNode</span> <span class=n>temp</span> <span class=o>=</span> <span class=n>node</span><span class=p>.</span><span class=na>left</span><span class=p>;</span>
        <span class=n>node</span><span class=p>.</span><span class=na>left</span> <span class=o>=</span> <span class=n>node</span><span class=p>.</span><span class=na>right</span><span class=p>;</span>
        <span class=n>node</span><span class=p>.</span><span class=na>right</span> <span class=o>=</span> <span class=n>temp</span><span class=p>;</span>

        <span class=k>if</span> <span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>left</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>stack</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>left</span><span class=p>);</span>
        <span class=p>}</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>right</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>stack</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>right</span><span class=p>);</span>
        <span class=p>}</span>
    <span class=p>}</span>

    <span class=k>return</span> <span class=n>root</span><span class=p>;</span>
<span class=p>}</span>
</pre></div> <h3 id=12-28>1.2 (28)对称的二叉树<a class=headerlink href=#12-28 title="Permanent link">&para;</a></h3> <blockquote> <p>请实现一个函数，用来判断一棵二叉树是不是对称的。如果一棵二叉树和它的镜像一样，那么它是对称的。</p> </blockquote> <p>此题同<a href=/leetcode/leetcode101-110/#101-symmetric-tree>LC-101-Symmetric Tree</a></p> <p>在下图所示的3棵树中，第一棵二叉树是对称的，另外两棵不是。 </p> <p><img alt=第一棵是对称的，另外两棵不是 src=/assets/images/leetcode/ci_binary_tree_28.png></p> <p><center>第一棵是对称的，另外两棵不是</center></p> <p>我们可以先比较根节点，然后递归比较左子树的左节点与右子树的右节点、左子树的右节点与右子树的子节点。 </p> <div class=codehilite><pre><span></span><span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>isSymmetrical</span><span class=p>(</span><span class=n>BinaryTreeNode</span> <span class=n>root</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>return</span> <span class=n>isSymmetrical</span><span class=p>(</span><span class=n>root</span><span class=p>,</span> <span class=n>root</span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>private</span> <span class=kt>boolean</span> <span class=nf>isSymmetrical</span><span class=p>(</span><span class=n>BinaryTreeNode</span> <span class=n>root1</span><span class=p>,</span> <span class=n>BinaryTreeNode</span> <span class=n>root2</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>root1</span> <span class=o>==</span> <span class=kc>null</span> <span class=o>&amp;&amp;</span> <span class=n>root2</span> <span class=o>==</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=kc>true</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=k>if</span> <span class=p>(</span><span class=n>root1</span> <span class=o>==</span> <span class=kc>null</span> <span class=o>||</span> <span class=n>root2</span> <span class=o>==</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=kc>false</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=k>if</span> <span class=p>(</span><span class=n>root1</span><span class=p>.</span><span class=na>value</span> <span class=o>!=</span> <span class=n>root2</span><span class=p>.</span><span class=na>value</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=kc>false</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=k>return</span> <span class=n>isSymmetrical</span><span class=p>(</span><span class=n>root1</span><span class=p>.</span><span class=na>left</span><span class=p>,</span> <span class=n>root2</span><span class=p>.</span><span class=na>right</span><span class=p>)</span> <span class=o>&amp;&amp;</span>
            <span class=n>isSymmetrical</span><span class=p>(</span><span class=n>root1</span><span class=p>.</span><span class=na>right</span><span class=p>,</span> <span class=n>root2</span><span class=p>.</span><span class=na>left</span><span class=p>);</span>
<span class=p>}</span>
</pre></div> <h3 id=13-29>1.3 (29)顺时针打印矩阵<a class=headerlink href=#13-29 title="Permanent link">&para;</a></h3> <blockquote> <p>输入一个矩阵，按照从外向里以顺时针的顺序依次打印出每一个数字</p> </blockquote> <p>例如输入如下矩阵，依次打印出数字1 2 3 4 8 12 16 15 14 13 9 5 6 7 11 10</p> <p><img alt src=/assets/images/leetcode/ci_29.png></p> <p>此题同<a href=/leetcode/leetcode51-60/#54-spiral-matrix>LC-54-Spiral Matrix</a></p> <p>这道题完全没有涉及复杂的数据结构或者高级的算法，看起来是一个很简单的问题。但实际上解决这个问题时会在代码中包含多个循环，而且需要判断多个边界条件。</p> <p>总体上来说，我们可以每次循环打印一圈。循环可以开始的条件是<code>columns &gt; start * 2 &amp;&amp; rows &gt; start * 2</code>。<br> 在每次循环中，要判断除第一条边之外的三条边是否可以打印，以及打印时循环开始、结束的值。 </p> <div class=codehilite><pre><span></span><span class=kd>private</span> <span class=kt>void</span> <span class=nf>printMatrixClockwisely</span><span class=p>(</span><span class=kt>int</span><span class=o>[][]</span> <span class=n>numbers</span><span class=p>,</span> <span class=kt>int</span> <span class=n>columns</span><span class=p>,</span> <span class=kt>int</span> <span class=n>rows</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>numbers</span> <span class=o>==</span> <span class=kc>null</span> <span class=o>||</span> <span class=n>columns</span> <span class=o>&lt;=</span> <span class=mi>0</span> <span class=o>||</span> <span class=n>rows</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kt>int</span> <span class=n>start</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>

    <span class=k>while</span> <span class=p>(</span><span class=n>columns</span> <span class=o>&gt;</span> <span class=n>start</span> <span class=o>*</span> <span class=mi>2</span> <span class=o>&amp;&amp;</span> <span class=n>rows</span> <span class=o>&gt;</span> <span class=n>start</span> <span class=o>*</span> <span class=mi>2</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>printMatrixInCircle</span><span class=p>(</span><span class=n>numbers</span><span class=p>,</span> <span class=n>columns</span><span class=p>,</span> <span class=n>rows</span><span class=p>,</span> <span class=n>start</span><span class=p>);</span>
        <span class=n>start</span><span class=o>++</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>}</span>

<span class=kd>private</span> <span class=kt>void</span> <span class=nf>printMatrixInCircle</span><span class=p>(</span><span class=kt>int</span><span class=o>[][]</span> <span class=n>numbers</span><span class=p>,</span> <span class=kt>int</span> <span class=n>columns</span><span class=p>,</span> <span class=kt>int</span> <span class=n>rows</span><span class=p>,</span> <span class=kt>int</span> <span class=n>start</span><span class=p>)</span> <span class=p>{</span>
    <span class=kt>int</span> <span class=n>endX</span> <span class=o>=</span> <span class=n>columns</span> <span class=o>-</span> <span class=mi>1</span> <span class=o>-</span> <span class=n>start</span><span class=p>;</span>
    <span class=kt>int</span> <span class=n>endY</span> <span class=o>=</span> <span class=n>rows</span> <span class=o>-</span> <span class=mi>1</span> <span class=o>-</span> <span class=n>start</span><span class=p>;</span>

    <span class=c1>// 从左到右打印一行</span>
    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>start</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>endX</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>number</span> <span class=o>=</span> <span class=n>numbers</span><span class=o>[</span><span class=n>start</span><span class=o>][</span><span class=n>i</span><span class=o>]</span><span class=p>;</span>
        <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>printf</span><span class=p>(</span><span class=s>&quot;%d\t&quot;</span><span class=p>,</span> <span class=n>number</span><span class=p>);</span>
    <span class=p>}</span>

    <span class=c1>// 从上到下打印一列</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>start</span> <span class=o>&lt;</span> <span class=n>endY</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>start</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>endY</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>number</span> <span class=o>=</span> <span class=n>numbers</span><span class=o>[</span><span class=n>i</span><span class=o>][</span><span class=n>endX</span><span class=o>]</span><span class=p>;</span>
            <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>printf</span><span class=p>(</span><span class=s>&quot;%d\t&quot;</span><span class=p>,</span> <span class=n>number</span><span class=p>);</span>
        <span class=p>}</span>
    <span class=p>}</span>

    <span class=c1>// 从右到左打印一行</span>
    <span class=k>if</span><span class=p>(</span><span class=n>start</span> <span class=o>&lt;</span> <span class=n>endX</span> <span class=o>&amp;&amp;</span> <span class=n>start</span> <span class=o>&lt;</span> <span class=n>endY</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>endX</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=n>start</span><span class=p>;</span> <span class=n>i</span><span class=o>--</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>number</span> <span class=o>=</span> <span class=n>numbers</span><span class=o>[</span><span class=n>endY</span><span class=o>][</span><span class=n>i</span><span class=o>]</span><span class=p>;</span>
            <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>printf</span><span class=p>(</span><span class=s>&quot;%d\t&quot;</span><span class=p>,</span> <span class=n>number</span><span class=p>);</span>
        <span class=p>}</span>
    <span class=p>}</span>

    <span class=c1>// 从下到上打印一行</span>
    <span class=k>if</span><span class=p>(</span><span class=n>start</span> <span class=o>&lt;</span> <span class=n>endX</span> <span class=o>&amp;&amp;</span> <span class=n>start</span> <span class=o>&lt;</span> <span class=n>endY</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>endY</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=n>start</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span><span class=o>--</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>number</span> <span class=o>=</span> <span class=n>numbers</span><span class=o>[</span><span class=n>i</span><span class=o>][</span><span class=n>start</span><span class=o>]</span><span class=p>;</span>
            <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>printf</span><span class=p>(</span><span class=s>&quot;%d\t&quot;</span><span class=p>,</span> <span class=n>number</span><span class=p>);</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>}</span>
</pre></div> <h2 id=2>2. 举例让抽象问题具体化<a class=headerlink href=#2 title="Permanent link">&para;</a></h2> <h3 id=21-30min>2.1 (30)包含min函数的栈<a class=headerlink href=#21-30min title="Permanent link">&para;</a></h3> <blockquote> <p>定义栈的数据结构，请在该类型中实现一个能够得到栈的最小元素的min函数。在该栈中，调用min、push及pop的时间复杂度都是O(1)。</p> </blockquote> <p>我们可以在栈的内部额外使用一个辅助栈，栈中同步保存每次进栈操作时栈中最小值。 </p> <div class=codehilite><pre><span></span><span class=kd>class</span> <span class=nc>StackWithMin</span><span class=o>&lt;</span><span class=n>E</span> <span class=kd>extends</span> <span class=n>Comparable</span><span class=o>&gt;</span> <span class=kd>extends</span> <span class=n>Stack</span><span class=o>&lt;</span><span class=n>E</span><span class=o>&gt;</span> <span class=p>{</span>
    <span class=c1>// 辅助栈</span>
    <span class=kd>private</span> <span class=n>Stack</span><span class=o>&lt;</span><span class=n>E</span><span class=o>&gt;</span> <span class=n>minStack</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Stack</span><span class=o>&lt;&gt;</span><span class=p>();</span>

    <span class=kd>public</span> <span class=kd>synchronized</span> <span class=n>E</span> <span class=nf>min</span><span class=p>()</span> <span class=p>{</span>
        <span class=k>return</span> <span class=n>minStack</span><span class=p>.</span><span class=na>peek</span><span class=p>();</span>
    <span class=p>}</span>

    <span class=nd>@Override</span>
    <span class=kd>public</span> <span class=kd>synchronized</span> <span class=n>E</span> <span class=nf>pop</span><span class=p>()</span> <span class=p>{</span>
        <span class=n>minStack</span><span class=p>.</span><span class=na>pop</span><span class=p>();</span>
        <span class=k>return</span> <span class=kd>super</span><span class=p>.</span><span class=na>pop</span><span class=p>();</span>
    <span class=p>}</span>

    <span class=nd>@Override</span>
    <span class=kd>public</span> <span class=kd>synchronized</span> <span class=n>E</span> <span class=nf>peek</span><span class=p>()</span> <span class=p>{</span>
        <span class=k>return</span> <span class=kd>super</span><span class=p>.</span><span class=na>peek</span><span class=p>();</span>
    <span class=p>}</span>

    <span class=nd>@Override</span>
    <span class=kd>public</span> <span class=n>E</span> <span class=nf>push</span><span class=p>(</span><span class=n>E</span> <span class=n>item</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>minStack</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>()</span> <span class=o>||</span> <span class=n>minStack</span><span class=p>.</span><span class=na>peek</span><span class=p>().</span><span class=na>compareTo</span><span class=p>(</span><span class=n>item</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>minStack</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>item</span><span class=p>);</span>
        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
            <span class=n>minStack</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>minStack</span><span class=p>.</span><span class=na>peek</span><span class=p>());</span>
        <span class=p>}</span>
        <span class=k>return</span> <span class=kd>super</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>item</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>}</span>
</pre></div> <h3 id=22-31>2.2 (31)栈的压入、弹出序列<a class=headerlink href=#22-31 title="Permanent link">&para;</a></h3> <blockquote> <p>输入两个整数序列，第一个序列表示栈的压入顺序，请判断第二个序列是否为该栈的弹出顺序。假设压入栈的所有数字均不相等。例如序列1、2、3、4、5是某栈的压栈序列，序列4、5、3、2、1是该压栈序列对应的一个弹出序列，但4、3、5、1、2就不可能是该压栈序列的弹出序列。</p> </blockquote> <p>我们可以找到判断一个序列是不是栈的弹出序列的规律：如果下一个弹出的数字刚好是栈顶数字，那么直接弹出；如果下一个弹出的数字不在栈顶，则把压栈序列中还没有入栈的数字压入辅助栈，直到把下一个需要弹出的数字压入栈顶为止；如果所有数字都压入栈后仍然没有找到下一个弹出的数字，那么该序列不可能是一个序列。</p> <div class=codehilite><pre><span></span><span class=kd>private</span> <span class=kt>boolean</span> <span class=nf>isPopOrder</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>push</span><span class=p>,</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>pop</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>push</span> <span class=o>==</span> <span class=kc>null</span> <span class=o>||</span> <span class=n>pop</span> <span class=o>==</span> <span class=kc>null</span> <span class=o>||</span> <span class=n>push</span><span class=p>.</span><span class=na>length</span> <span class=o>!=</span> <span class=n>pop</span><span class=p>.</span><span class=na>length</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=kc>false</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kd>final</span> <span class=kt>int</span> <span class=n>length</span> <span class=o>=</span> <span class=n>pop</span><span class=p>.</span><span class=na>length</span><span class=p>;</span>
    <span class=kt>boolean</span> <span class=n>possible</span> <span class=o>=</span> <span class=kc>false</span><span class=p>;</span>
    <span class=kt>int</span> <span class=n>pushIndex</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
    <span class=kt>int</span> <span class=n>popIndex</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>

    <span class=n>Stack</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>stack</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Stack</span><span class=o>&lt;&gt;</span><span class=p>();</span>

    <span class=k>while</span> <span class=p>(</span><span class=n>popIndex</span> <span class=o>&lt;</span> <span class=n>length</span><span class=p>)</span> <span class=p>{</span>
        <span class=c1>// 当辅助栈的栈顶元素不是要弹出的元素</span>
        <span class=c1>// 先压入一些数字入栈</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>stack</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>()</span> <span class=o>||</span> <span class=n>stack</span><span class=p>.</span><span class=na>peek</span><span class=p>()</span> <span class=o>!=</span> <span class=n>pop</span><span class=o>[</span><span class=n>popIndex</span><span class=o>]</span><span class=p>)</span> <span class=p>{</span>
            <span class=c1>// 如果所有数字都压入辅助栈了，退出循环</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>pushIndex</span> <span class=o>==</span> <span class=n>length</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>break</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=n>stack</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>push</span><span class=o>[</span><span class=n>pushIndex</span><span class=o>]</span><span class=p>);</span>
            <span class=n>pushIndex</span><span class=o>++</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>if</span> <span class=p>(</span><span class=n>stack</span><span class=p>.</span><span class=na>peek</span><span class=p>()</span> <span class=o>!=</span> <span class=n>pop</span><span class=o>[</span><span class=n>popIndex</span><span class=o>]</span><span class=p>)</span>
            <span class=k>break</span><span class=p>;</span>

        <span class=n>stack</span><span class=p>.</span><span class=na>pop</span><span class=p>();</span>
        <span class=n>popIndex</span><span class=o>++</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=k>if</span> <span class=p>(</span><span class=n>stack</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>popIndex</span> <span class=o>==</span> <span class=n>length</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>possible</span> <span class=o>=</span> <span class=kc>true</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=k>return</span> <span class=n>possible</span><span class=p>;</span>
<span class=p>}</span>
</pre></div> <h3 id=23-32>2.3 (32)从上到下打印二叉树<a class=headerlink href=#23-32 title="Permanent link">&para;</a></h3> <h4 id=231>2.3.1 不分行从上到下打印二叉树<a class=headerlink href=#231 title="Permanent link">&para;</a></h4> <blockquote> <p>从上往下打印出二叉树的每个结点，同一层的结点按照从左到右的顺序打印。</p> </blockquote> <p>该题就是一个二叉树的层序遍历问题。</p> <div class=codehilite><pre><span></span><span class=kd>private</span> <span class=kt>void</span> <span class=nf>printFromTopToBottom</span><span class=p>(</span><span class=n>BinaryTreeNode</span> <span class=n>root</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>root</span> <span class=o>==</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=n>Queue</span><span class=o>&lt;</span><span class=n>BinaryTreeNode</span><span class=o>&gt;</span> <span class=n>queue</span> <span class=o>=</span> <span class=k>new</span> <span class=n>LinkedList</span><span class=o>&lt;&gt;</span><span class=p>();</span>
    <span class=n>queue</span><span class=p>.</span><span class=na>offer</span><span class=p>(</span><span class=n>root</span><span class=p>);</span>

    <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>queue</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span> <span class=p>{</span>
        <span class=n>BinaryTreeNode</span> <span class=n>node</span> <span class=o>=</span> <span class=n>queue</span><span class=p>.</span><span class=na>poll</span><span class=p>();</span>

        <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>printf</span><span class=p>(</span><span class=s>&quot;%d\t&quot;</span><span class=p>,</span> <span class=n>node</span><span class=p>.</span><span class=na>value</span><span class=p>);</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>left</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>queue</span><span class=p>.</span><span class=na>offer</span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>left</span><span class=p>);</span>
        <span class=p>}</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>right</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>queue</span><span class=p>.</span><span class=na>offer</span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>right</span><span class=p>);</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>}</span>
</pre></div> <div class="admonition info"> <p class=admonition-title>本题扩展</p> <p>如何广度优先遍历一副有向图？同样也可以基于队列实现。树是图的一种特殊退化形式，从上到下按层遍历二叉树，从本质上来说就是广度优先遍历二叉树。</p> </div> <div class="admonition info"> <p class=admonition-title>举一反三</p> <p>不管广度优先遍历一副有向图还是一棵树，都要用到队列。首先把起始节点(对树而言是根节点)放入队列。接下来每次从队列的头部取出一个节点，遍历这个节点之后就把它能达到的节点(对树而言是子节点)都依次放入队列。重复这个遍历过程，直到队列中的节点全部被遍历为止。</p> </div> <h4 id=232>2.3.2 分行从上到下打印二叉树<a class=headerlink href=#232 title="Permanent link">&para;</a></h4> <blockquote> <p>从上到下按层打印二叉树，同一层的结点按从左到右的顺序打印，每一层打印到一行。</p> </blockquote> <p>此题同<a href=/leetcode/leetcode101-110/#102-binary-tree-level-order-traversal>LC-102-Binary Tree Level Order Traversal</a></p> <p>在前面代码的基础上额外加两个变量：一个表示在当前层中还没有打印的节点数；另一个变量表示下一层节点的数目</p> <div class=codehilite><pre><span></span><span class=kd>private</span> <span class=kt>void</span> <span class=nf>print</span><span class=p>(</span><span class=n>BinaryTreeNode</span> <span class=n>root</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>root</span> <span class=o>==</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=n>Queue</span><span class=o>&lt;</span><span class=n>BinaryTreeNode</span><span class=o>&gt;</span> <span class=n>queue</span> <span class=o>=</span> <span class=k>new</span> <span class=n>LinkedList</span><span class=o>&lt;&gt;</span><span class=p>();</span>
    <span class=n>queue</span><span class=p>.</span><span class=na>offer</span><span class=p>(</span><span class=n>root</span><span class=p>);</span>
    <span class=kt>int</span> <span class=n>nextLevel</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
    <span class=kt>int</span> <span class=n>toBePrinted</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>

    <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>queue</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span> <span class=p>{</span>
        <span class=n>BinaryTreeNode</span> <span class=n>node</span> <span class=o>=</span> <span class=n>queue</span><span class=p>.</span><span class=na>poll</span><span class=p>();</span>

        <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>printf</span><span class=p>(</span><span class=s>&quot;%d\t&quot;</span><span class=p>,</span> <span class=n>node</span><span class=p>.</span><span class=na>value</span><span class=p>);</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>left</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>queue</span><span class=p>.</span><span class=na>offer</span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>left</span><span class=p>);</span>
            <span class=n>nextLevel</span><span class=o>++</span><span class=p>;</span>
        <span class=p>}</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>right</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>queue</span><span class=p>.</span><span class=na>offer</span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>right</span><span class=p>);</span>
            <span class=n>nextLevel</span><span class=o>++</span><span class=p>;</span>
        <span class=p>}</span>
        <span class=n>toBePrinted</span><span class=o>--</span><span class=p>;</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>toBePrinted</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>();</span>
            <span class=n>toBePrinted</span> <span class=o>=</span> <span class=n>nextLevel</span><span class=p>;</span>
            <span class=n>nextLevel</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>}</span>
</pre></div> <p>在上面的代码中toBePrinted表示在当前层中还没有打印的节点数，而变量nextLevel表示下一层的节点。</p> <h4 id=233>2.3.3 之字形打印二叉树<a class=headerlink href=#233 title="Permanent link">&para;</a></h4> <blockquote> <p>请实现一个函数按照之字形顺序打印二叉树，即第一行按照从左到右的顺序打印，第二层按照从右到左的顺序打印，第三行再按照从左到右的顺序打印，其他行以此类推。</p> </blockquote> <p>此题同<a href=/leetcode/leetcode101-110/#103-binary-tree-zigzag-level-order-traversal>LC-103-Binary Tree Zigzag Level Order Traversal</a></p> <p>按之字形顺序打印二叉树需要两个栈。我们在打印某一层节点时，把下一层的子节点保存在对应的栈中。如果当前打印的是奇数层，则先保存左子节点再保存右子节点到第一个栈里；如果当前打印的是偶数层，则先保存右子节点再保存左子节点到第二个栈里。</p> <div class=codehilite><pre><span></span><span class=kd>private</span> <span class=kt>void</span> <span class=nf>print</span><span class=p>(</span><span class=n>BinaryTreeNode</span> <span class=n>root</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>root</span> <span class=o>==</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=n>Stack</span><span class=o>&lt;</span><span class=n>BinaryTreeNode</span><span class=o>&gt;[]</span> <span class=n>level2</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Stack</span><span class=o>[</span><span class=mi>2</span><span class=o>]</span><span class=p>;</span>
    <span class=n>level2</span><span class=o>[</span><span class=mi>0</span><span class=o>]</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Stack</span><span class=o>&lt;&gt;</span><span class=p>();</span>
    <span class=n>level2</span><span class=o>[</span><span class=mi>1</span><span class=o>]</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Stack</span><span class=o>&lt;&gt;</span><span class=p>();</span>
    <span class=kt>int</span> <span class=n>current</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
    <span class=kt>int</span> <span class=n>next</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>

    <span class=n>level2</span><span class=o>[</span><span class=n>current</span><span class=o>]</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>root</span><span class=p>);</span>
    <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>level2</span><span class=o>[</span><span class=mi>0</span><span class=o>]</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>()</span> <span class=o>||</span> <span class=o>!</span><span class=n>level2</span><span class=o>[</span><span class=mi>1</span><span class=o>]</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span> <span class=p>{</span>
        <span class=n>BinaryTreeNode</span> <span class=n>node</span> <span class=o>=</span> <span class=n>level2</span><span class=o>[</span><span class=n>current</span><span class=o>]</span><span class=p>.</span><span class=na>pop</span><span class=p>();</span>

        <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>printf</span><span class=p>(</span><span class=s>&quot;%d &quot;</span><span class=p>,</span> <span class=n>node</span><span class=p>.</span><span class=na>value</span><span class=p>);</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>current</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>left</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>level2</span><span class=o>[</span><span class=n>next</span><span class=o>]</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>left</span><span class=p>);</span>
            <span class=p>}</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>right</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>level2</span><span class=o>[</span><span class=n>next</span><span class=o>]</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>right</span><span class=p>);</span>
            <span class=p>}</span>
        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>right</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>level2</span><span class=o>[</span><span class=n>next</span><span class=o>]</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>right</span><span class=p>);</span>
            <span class=p>}</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>left</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>level2</span><span class=o>[</span><span class=n>next</span><span class=o>]</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>left</span><span class=p>);</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>if</span> <span class=p>(</span><span class=n>level2</span><span class=o>[</span><span class=n>current</span><span class=o>]</span><span class=p>.</span><span class=na>empty</span><span class=p>())</span> <span class=p>{</span>
            <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>();</span>
            <span class=n>current</span> <span class=o>=</span> <span class=mi>1</span> <span class=o>-</span> <span class=n>current</span><span class=p>;</span>
            <span class=n>next</span> <span class=o>=</span> <span class=mi>1</span> <span class=o>-</span> <span class=n>next</span><span class=p>;</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>}</span>
</pre></div> <h3 id=24-33>2.4 (33)二叉搜索树的后序遍历序列<a class=headerlink href=#24-33 title="Permanent link">&para;</a></h3> <blockquote> <p>输入一个整数数组，判断该数组是不是某二叉搜索树的后序遍历的结果。如果是则返回true，否则返回false。假设输入的数组的任意两个数字都互不相同。</p> </blockquote> <p>根据二叉搜索树的特征以及树的后序遍历序列特征，我们可以写出下面的代码：</p> <div class=codehilite><pre><span></span><span class=kd>private</span> <span class=kt>boolean</span> <span class=nf>verifySequenceOfBST</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>sequence</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>sequence</span> <span class=o>==</span> <span class=kc>null</span> <span class=o>||</span> <span class=n>sequence</span><span class=p>.</span><span class=na>length</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=kc>false</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=k>return</span> <span class=n>verifySequenceOfBSTInner</span><span class=p>(</span><span class=n>sequence</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>sequence</span><span class=p>.</span><span class=na>length</span> <span class=o>-</span> <span class=mi>1</span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>private</span> <span class=kt>boolean</span> <span class=nf>verifySequenceOfBSTInner</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>sequence</span><span class=p>,</span> <span class=kt>int</span> <span class=n>start</span><span class=p>,</span> <span class=kt>int</span> <span class=n>end</span><span class=p>)</span> <span class=p>{</span>
    <span class=kd>final</span> <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>sequence</span><span class=p>.</span><span class=na>length</span><span class=p>;</span>
    <span class=kt>int</span> <span class=n>root</span> <span class=o>=</span> <span class=n>sequence</span><span class=o>[</span><span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=o>]</span><span class=p>;</span>

    <span class=c1>// 在二叉搜索树中左子树的结点小于根结点</span>
    <span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>start</span><span class=p>;</span>
    <span class=k>for</span> <span class=p>(;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>end</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>sequence</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>&gt;</span> <span class=n>root</span><span class=p>)</span>
            <span class=k>break</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=c1>// 在二叉搜索树中右子树的结点大于根结点</span>
    <span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>i</span><span class=p>;</span>
    <span class=k>for</span><span class=p>(;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>end</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=o>++</span> <span class=n>j</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span><span class=p>(</span><span class=n>sequence</span><span class=o>[</span><span class=n>j</span><span class=o>]</span> <span class=o>&lt;</span> <span class=n>root</span><span class=p>)</span>
            <span class=k>return</span> <span class=kc>false</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=c1>// 判断左子树是不是二叉搜索树</span>
    <span class=kt>boolean</span> <span class=n>left</span> <span class=o>=</span> <span class=kc>true</span><span class=p>;</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>i</span> <span class=o>&gt;</span> <span class=n>start</span><span class=p>)</span>
        <span class=n>left</span> <span class=o>=</span> <span class=n>verifySequenceOfBSTInner</span><span class=p>(</span><span class=n>sequence</span><span class=p>,</span> <span class=n>start</span><span class=p>,</span> <span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>);</span>

    <span class=c1>// 判断右子树是不是二叉搜索树</span>
    <span class=kt>boolean</span> <span class=n>right</span> <span class=o>=</span> <span class=kc>true</span><span class=p>;</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>i</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>)</span>
        <span class=n>right</span> <span class=o>=</span> <span class=n>verifySequenceOfBSTInner</span><span class=p>(</span><span class=n>sequence</span><span class=p>,</span> <span class=n>i</span><span class=p>,</span> <span class=n>end</span> <span class=o>-</span> <span class=mi>1</span><span class=p>);</span>

    <span class=k>return</span> <span class=n>left</span> <span class=o>&amp;&amp;</span> <span class=n>right</span><span class=p>;</span>
<span class=p>}</span>
</pre></div> <div class="admonition info"> <p class=admonition-title>相关题目</p> <p>输入一个整数数组，判断该数组是不是某二叉搜索树的前序遍历结果。<br> <em>这和前面问题的后序遍历很类似，只是在前序遍历得到的序列中，第一个数字是根节点的值。</em></p> </div> <div class="admonition info"> <p class=admonition-title>举一反三</p> <p>如果面试题要求处理一颗二叉树的遍历序列，则可以先找到二叉树的根节点，再基于根节点把整棵树的遍历序列拆分成左子树对应的子序列和右子树对应的子序列，接下来再递归地处理这两个子序列。本题和第七题“重建二叉树”应用的也是这种思路。</p> </div> <h3 id=25-34>2.5 (34)二叉树中和为某一值的路径<a class=headerlink href=#25-34 title="Permanent link">&para;</a></h3> <blockquote> <p>输入一棵二叉树和一个整数，打印出二叉树中结点值的和为输入整数的所有路径。从树的根结点开始往下一直到叶结点所经过的结点形成一条路径。</p> </blockquote> <p>在树的前中后序遍历方式中，只有前序遍历是首先访问根节点的。<br> 当用前序遍历的方式访问到某一节点时，我们把该节点添加到路径上，并累加该节点的值。如果当前节点不是叶节点，则继续访问它的子节点。如果该节点为叶节点，并且路径中节点值和刚好等于输入的整数，则当前路径符合要求，我们打印出来。当前节点访问结束后，递归函数自动回到它的父节点。因此，我们在函数退出之前要把路径上删除当前节点并减去当前节点的值，以确保父节点时路径刚好是从根节点到父节点。我们不难看出保存路径的数据结构是一个栈，因为路径要与递归调用状态一致，而递归调用的本质就是一个压栈和出栈的过程。<br> 这里我们并没有使用Stack而是一个List，因为Stack只能得到栈顶元素，而我们打印路径的时候需要得到路径上的所有节点，因此在代码实现的时候Stack不是最好的选择。</p> <div class=codehilite><pre><span></span><span class=kd>private</span> <span class=kt>int</span> <span class=n>currentSum</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>

<span class=kd>private</span> <span class=kt>void</span> <span class=nf>findPath</span><span class=p>(</span><span class=n>BinaryTreeNode</span> <span class=n>root</span><span class=p>,</span> <span class=kt>int</span> <span class=n>expectedSum</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>root</span> <span class=o>==</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=n>currentSum</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
    <span class=n>findPath</span><span class=p>(</span><span class=n>root</span><span class=p>,</span> <span class=n>expectedSum</span><span class=p>,</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>());</span>
<span class=p>}</span>

<span class=kd>private</span> <span class=kt>void</span> <span class=nf>findPath</span><span class=p>(</span><span class=n>BinaryTreeNode</span> <span class=n>root</span><span class=p>,</span> <span class=kt>int</span> <span class=n>expectedSum</span><span class=p>,</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>path</span><span class=p>)</span> <span class=p>{</span>
    <span class=n>currentSum</span> <span class=o>+=</span> <span class=n>root</span><span class=p>.</span><span class=na>value</span><span class=p>;</span>
    <span class=n>path</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>value</span><span class=p>);</span>

    <span class=c1>// 如果是叶结点，并且路径上结点的和等于输入的值</span>
    <span class=c1>// 打印出这条路径</span>
    <span class=kt>boolean</span> <span class=n>isLeaf</span> <span class=o>=</span> <span class=n>root</span><span class=p>.</span><span class=na>left</span> <span class=o>==</span> <span class=kc>null</span> <span class=o>&amp;&amp;</span> <span class=n>root</span><span class=p>.</span><span class=na>right</span> <span class=o>==</span> <span class=kc>null</span><span class=p>;</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>isLeaf</span> <span class=o>&amp;&amp;</span> <span class=n>expectedSum</span> <span class=o>==</span> <span class=n>currentSum</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>print</span><span class=p>(</span><span class=s>&quot;A path is found: &quot;</span><span class=p>);</span>
        <span class=k>for</span> <span class=p>(</span><span class=n>Integer</span> <span class=n>node</span><span class=p>:</span> <span class=n>path</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>printf</span><span class=p>(</span><span class=s>&quot;%d\t&quot;</span><span class=p>,</span> <span class=n>node</span><span class=p>);</span>
        <span class=p>}</span>
        <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>();</span>
    <span class=p>}</span>

    <span class=c1>// 如果不是叶结点，则遍历它的子结点</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>findPath</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>,</span> <span class=n>expectedSum</span><span class=p>,</span> <span class=n>path</span><span class=p>);</span>
    <span class=p>}</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>findPath</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>,</span> <span class=n>expectedSum</span><span class=p>,</span> <span class=n>path</span><span class=p>);</span>
    <span class=p>}</span>

    <span class=c1>// 在返回到父结点之前，在路径上删除当前结点，</span>
    <span class=c1>// 并在currentSum中减去当前结点的值</span>
    <span class=n>currentSum</span> <span class=o>-=</span> <span class=n>root</span><span class=p>.</span><span class=na>value</span><span class=p>;</span>
    <span class=n>path</span><span class=p>.</span><span class=na>remove</span><span class=p>(</span><span class=n>path</span><span class=p>.</span><span class=na>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>);</span>
<span class=p>}</span>
</pre></div> <h2 id=3>3. 分解让复杂问题简单化<a class=headerlink href=#3 title="Permanent link">&para;</a></h2> <p>我们遇到复杂的大问题时，如果能够先把大问题分解成若干的简单小问题，然后再逐个解决这些小问题，则可能也会容易很多。<br> 在计算机领域有一类算法叫分治法，即“分而治之”，采用的就是各个击破的思想。我们把分解之后的小问题各个解决，然后把小问题的解决方案结合起来解决大问题。</p> <h3 id=31-35>3.1 (35)复杂链表的复制<a class=headerlink href=#31-35 title="Permanent link">&para;</a></h3> <blockquote> <p>请实现函数ComplexListNode clone(ComplexListNode head)，复制一个复杂链表。在复杂链表中，每个结点除了有一个next指针指向下一个结点外，还有一个sibling指向链表中的任意结点或者null。</p> </blockquote> <p><img alt=一个含有5个节点的复杂链表 src=/assets/images/leetcode/ci_list_node_35.png></p> <p><center>一个含有5个节点的复杂链表</center></p> <p><strong>解法一：笨方法</strong> </p> <p>首先复制原始链表上的每个节点，并用next链接起来；然后设置每个节点的sibling指针。<br> 对于一个含有n个节点的链表，由于定位每个节点的sibling都需要从链表头节点开始经过<span><span class=MathJax_Preview>O(n)</span><script type=math/tex>O(n)</script></span>步才能找到，因此这种方法总的时间复杂度是<span><span class=MathJax_Preview>O(n^2)</span><script type=math/tex>O(n^2)</script></span>。</p> <p><strong>解法二：空间换时间</strong><br> 上述方法的时间主要花费在定位节点的sibling上面，我们试着在方面去进行优化。<br> 我们还是分为两步：第一步仍然是复制原始链表上的每个节点N创建N'，然后把每个节点N用next链接起来，同时把&lt;N, N'>的配对信息放到一个哈希表中；<br> 第二步还是设置复制链表的sibling。如果在原始链表中节点N的sibling指向节点S，那么在复制链表中，对应的N'应该指向S'。由于有了哈希表，我们可以用<span><span class=MathJax_Preview>O(1)</span><script type=math/tex>O(1)</script></span>的时间根据S找到S'。<br> 这种方法相当于用空间换时间。该方法时间复杂度为<span><span class=MathJax_Preview>O(n)</span><script type=math/tex>O(n)</script></span>，空间复杂度也为<span><span class=MathJax_Preview>O(n)</span><script type=math/tex>O(n)</script></span>。</p> <p><strong>解法三：不用辅助空间的情况下实现<span><span class=MathJax_Preview>O(n)</span><script type=math/tex>O(n)</script></span>的时间效率</strong><br> 第一步仍然是根据原始链表的每个节点N创建对应的N'。这一次，我们把N'链接到N的后面。例子中的链表经过这一步之后的结构如下所示： </p> <p><img alt=复制复杂链表的第一步 src=/assets/images/leetcode/ci_list_node_35_1.png></p> <p><center>复制复杂链表的第一步</center></p> <p>第二步设置复制出来的节点的sibling。假设原始链表上的N的sibling指向节点S，那么其对应复制出来的N'是N的next指向的节点，同样S'也是S的next指向的节点。设置sibling之后的链表如图所示：</p> <p><img alt=复制复杂链表的第二步 src=/assets/images/leetcode/ci_list_node_35_2.png></p> <p><center>复制复杂链表的第二步</center></p> <p><em>注：如果原始链表上的节点N的sibling指向S，则其复制节点N'的sibling指向S的复制节点S'。</em></p> <p>第三步把这个长链表拆分为两个链表：奇数、偶数位置分别是原始链表和复制出来的链表。 </p> <p><img alt=复制复杂链表的第三步 src=/assets/images/leetcode/ci_list_node_35_3.png></p> <p><center>复制复杂链表的第三步</center></p> <p><em>注：把第二步得到的链表拆分成为两个链表，奇数位置上的节点组成原始链表，偶数位置上的节点组成复制出来的节点。</em></p> <div class=codehilite><pre><span></span><span class=n>ComplexListNode</span> <span class=nf>clone</span><span class=p>(</span><span class=n>ComplexListNode</span> <span class=n>head</span><span class=p>)</span> <span class=p>{</span>
    <span class=n>cloneNodes</span><span class=p>(</span><span class=n>head</span><span class=p>);</span>
    <span class=n>connectSiblingNodes</span><span class=p>(</span><span class=n>head</span><span class=p>);</span>
    <span class=k>return</span> <span class=n>reconnectNodes</span><span class=p>(</span><span class=n>head</span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>private</span> <span class=kt>void</span> <span class=nf>cloneNodes</span><span class=p>(</span><span class=n>ComplexListNode</span> <span class=n>head</span><span class=p>)</span> <span class=p>{</span>
    <span class=n>ComplexListNode</span> <span class=n>node</span> <span class=o>=</span> <span class=n>head</span><span class=p>;</span>
    <span class=k>while</span> <span class=p>(</span><span class=n>node</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>ComplexListNode</span> <span class=n>cloned</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ComplexListNode</span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>value</span><span class=p>);</span>
        <span class=n>ComplexListNode</span><span class=p>.</span><span class=na>buildNodes</span><span class=p>(</span><span class=n>cloned</span><span class=p>,</span> <span class=n>node</span><span class=p>.</span><span class=na>next</span><span class=p>,</span> <span class=n>node</span><span class=p>.</span><span class=na>sibling</span><span class=p>);</span>

        <span class=n>node</span><span class=p>.</span><span class=na>next</span> <span class=o>=</span> <span class=n>cloned</span><span class=p>;</span>
        <span class=n>node</span> <span class=o>=</span> <span class=n>cloned</span><span class=p>.</span><span class=na>next</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>}</span>

<span class=kd>private</span> <span class=kt>void</span> <span class=nf>connectSiblingNodes</span><span class=p>(</span><span class=n>ComplexListNode</span> <span class=n>head</span><span class=p>)</span> <span class=p>{</span>
    <span class=n>ComplexListNode</span> <span class=n>node</span> <span class=o>=</span> <span class=n>head</span><span class=p>;</span>
    <span class=k>while</span> <span class=p>(</span><span class=n>node</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>ComplexListNode</span> <span class=n>cloned</span> <span class=o>=</span> <span class=n>node</span><span class=p>.</span><span class=na>next</span><span class=p>;</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>sibling</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>cloned</span><span class=p>.</span><span class=na>sibling</span> <span class=o>=</span> <span class=n>node</span><span class=p>.</span><span class=na>sibling</span><span class=p>.</span><span class=na>next</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=n>node</span> <span class=o>=</span> <span class=n>cloned</span><span class=p>.</span><span class=na>next</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>}</span>

<span class=kd>private</span> <span class=n>ComplexListNode</span> <span class=nf>reconnectNodes</span><span class=p>(</span><span class=n>ComplexListNode</span> <span class=n>head</span><span class=p>)</span> <span class=p>{</span>
    <span class=n>ComplexListNode</span> <span class=n>node</span> <span class=o>=</span> <span class=n>head</span><span class=p>;</span>
    <span class=n>ComplexListNode</span> <span class=n>clonedHead</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
    <span class=n>ComplexListNode</span> <span class=n>clonedNode</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>

    <span class=k>if</span> <span class=p>(</span><span class=n>node</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>clonedHead</span> <span class=o>=</span> <span class=n>clonedNode</span> <span class=o>=</span> <span class=n>node</span><span class=p>.</span><span class=na>next</span><span class=p>;</span>
        <span class=n>node</span><span class=p>.</span><span class=na>next</span> <span class=o>=</span> <span class=n>clonedHead</span><span class=p>.</span><span class=na>next</span><span class=p>;</span>
        <span class=n>node</span> <span class=o>=</span> <span class=n>node</span><span class=p>.</span><span class=na>next</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=k>while</span> <span class=p>(</span><span class=n>node</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>clonedNode</span><span class=p>.</span><span class=na>next</span> <span class=o>=</span> <span class=n>node</span><span class=p>.</span><span class=na>next</span><span class=p>;</span>
        <span class=n>clonedNode</span> <span class=o>=</span> <span class=n>clonedNode</span><span class=p>.</span><span class=na>next</span><span class=p>;</span>

        <span class=n>node</span><span class=p>.</span><span class=na>next</span> <span class=o>=</span> <span class=n>clonedNode</span><span class=p>.</span><span class=na>next</span><span class=p>;</span>
        <span class=n>node</span> <span class=o>=</span> <span class=n>node</span><span class=p>.</span><span class=na>next</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=k>return</span> <span class=n>clonedHead</span><span class=p>;</span>
<span class=p>}</span>
</pre></div> <p>ComplexListNode辅助代码如下：</p> <div class=codehilite><pre><span></span><span class=kd>private</span> <span class=kd>static</span> <span class=kd>class</span> <span class=nc>ComplexListNode</span> <span class=p>{</span>
    <span class=kt>int</span>                 <span class=n>value</span><span class=p>;</span>
    <span class=n>ComplexListNode</span>     <span class=n>next</span><span class=p>;</span>
    <span class=n>ComplexListNode</span>     <span class=n>sibling</span><span class=p>;</span>

    <span class=n>ComplexListNode</span><span class=p>(</span><span class=kt>int</span> <span class=n>value</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>this</span><span class=p>.</span><span class=na>value</span> <span class=o>=</span> <span class=n>value</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kd>static</span> <span class=kt>void</span> <span class=nf>buildNodes</span><span class=p>(</span><span class=n>ComplexListNode</span> <span class=n>node</span><span class=p>,</span> <span class=n>ComplexListNode</span> <span class=n>next</span><span class=p>,</span> <span class=n>ComplexListNode</span> <span class=n>sibling</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>node</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>node</span><span class=p>.</span><span class=na>next</span> <span class=o>=</span> <span class=n>next</span><span class=p>;</span>
            <span class=n>node</span><span class=p>.</span><span class=na>sibling</span> <span class=o>=</span> <span class=n>sibling</span><span class=p>;</span>
        <span class=p>}</span>
    <span class=p>}</span>

    <span class=kd>static</span> <span class=kt>void</span> <span class=nf>printList</span><span class=p>(</span><span class=n>ComplexListNode</span> <span class=n>head</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>ComplexListNode</span> <span class=n>node</span> <span class=o>=</span> <span class=n>head</span><span class=p>;</span>
        <span class=k>while</span><span class=p>(</span><span class=n>node</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>printf</span><span class=p>(</span><span class=s>&quot;The value of this node is: %d.\n&quot;</span><span class=p>,</span> <span class=n>node</span><span class=p>.</span><span class=na>value</span><span class=p>);</span>

            <span class=k>if</span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>sibling</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span>
                <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>printf</span><span class=p>(</span><span class=s>&quot;The value of its sibling is: %d.\n&quot;</span><span class=p>,</span> <span class=n>node</span><span class=p>.</span><span class=na>sibling</span><span class=p>.</span><span class=na>value</span><span class=p>);</span>
            <span class=k>else</span>
                <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>print</span><span class=p>(</span><span class=s>&quot;This node does not have a sibling.\n&quot;</span><span class=p>);</span>

            <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>();</span>

            <span class=n>node</span> <span class=o>=</span> <span class=n>node</span><span class=p>.</span><span class=na>next</span><span class=p>;</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>}</span>
</pre></div> <h3 id=32-36>3.2 (36)二叉搜索树与双向链表<a class=headerlink href=#32-36 title="Permanent link">&para;</a></h3> <blockquote> <p>输入一棵二叉搜索树，将该二叉搜索树转换成一个排序的双向链表。要求不能创建任何新的结点，只能调整树中结点指针的指向。</p> </blockquote> <p>如下图所示，左边的二叉搜索树经过转换之后变成右边的排序双向链表。 </p> <p><img alt=一颗二叉搜索树及转换之后的排序双向链表 src=/assets/images/leetcode/ci_binary_tree_36.png></p> <p><center>一颗二叉搜索树及转换之后的排序双向链表</center></p> <div class=codehilite><pre><span></span><span class=kd>private</span> <span class=n>BinaryTreeNode</span> <span class=n>last</span><span class=p>;</span>

<span class=kd>private</span> <span class=n>BinaryTreeNode</span> <span class=nf>convert</span><span class=p>(</span><span class=n>BinaryTreeNode</span> <span class=n>root</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>root</span> <span class=o>==</span> <span class=kc>null</span> <span class=o>||</span> <span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span> <span class=o>==</span> <span class=kc>null</span> <span class=o>&amp;&amp;</span> <span class=n>root</span><span class=p>.</span><span class=na>right</span> <span class=o>==</span> <span class=kc>null</span><span class=p>))</span> <span class=p>{</span>
        <span class=k>return</span> <span class=n>root</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=n>last</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
    <span class=n>convertNode</span><span class=p>(</span><span class=n>root</span><span class=p>);</span>

    <span class=k>while</span> <span class=p>(</span><span class=n>last</span> <span class=o>!=</span> <span class=kc>null</span> <span class=o>&amp;&amp;</span> <span class=n>last</span><span class=p>.</span><span class=na>left</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>last</span> <span class=o>=</span> <span class=n>last</span><span class=p>.</span><span class=na>left</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=k>return</span> <span class=n>last</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>private</span> <span class=kt>void</span> <span class=nf>convertNode</span><span class=p>(</span><span class=n>BinaryTreeNode</span> <span class=n>node</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>node</span> <span class=o>==</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=n>BinaryTreeNode</span> <span class=n>current</span> <span class=o>=</span> <span class=n>node</span><span class=p>;</span>

    <span class=k>if</span> <span class=p>(</span><span class=n>current</span><span class=p>.</span><span class=na>left</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>convertNode</span><span class=p>(</span><span class=n>current</span><span class=p>.</span><span class=na>left</span><span class=p>);</span>
    <span class=p>}</span>

    <span class=n>current</span><span class=p>.</span><span class=na>left</span> <span class=o>=</span> <span class=n>last</span><span class=p>;</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>last</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>last</span><span class=p>.</span><span class=na>right</span> <span class=o>=</span> <span class=n>current</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=n>last</span> <span class=o>=</span> <span class=n>current</span><span class=p>;</span>

    <span class=k>if</span> <span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>right</span> <span class=o>!=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>convertNode</span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>right</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>}</span>
</pre></div> <p>在上面的代码中，我们用last指向已经转换好的链表的最后一个节点。当我们遍历到10的节点时，它的左子树都已经转换好了，因此last指向值为8的节点。接着把根节点链接到链表后，值为10的节点成了链表中的最后一个节点（新的值最大的节点），于是last指向了这个值为10的节点。接下来递归遍历右子树。我们把右子树中最左边的子节点，并把该节点和值为10的节点链接起来。</p> <h3 id=33-37>3.3 (37)序列化二叉树<a class=headerlink href=#33-37 title="Permanent link">&para;</a></h3> <blockquote> <p>请实现两个函数，分别用来序列化和反序列化二叉树。</p> </blockquote> <p>如果二叉树的序列化是从根节点开始的，那么相应的反序列化在根节点的数值读出来的时候就可以开始了。因此，我们可以根据前序遍历的顺序来序列化二叉树，因为前序遍历是从根节点开始的。在遍历二叉树碰到空指针时，将这些空指针序列化为一个特殊的字符（如'$'）。这样就填满成为一个满二叉树了。</p> <p>例如，下面的二叉树被序列化成为字符串“1,2,4,<span><span class=MathJax_Preview>,</span><script type=math/tex>,</script></span>,<span><span class=MathJax_Preview>,3,5,</span><script type=math/tex>,3,5,</script></span>,<span><span class=MathJax_Preview>,6,</span><script type=math/tex>,6,</script></span>,$”。</p> <p><img alt=一颗被序列化成字符串“1,2,4,,,,,3,5,,3,5,,,6,,6,,$”的二叉树 src=/assets/images/leetcode/ci_binary_tree_37.png></p> <p><center>一颗被序列化成字符串“1,2,4,<span><span class=MathJax_Preview>,</span><script type=math/tex>,</script></span>,<span><span class=MathJax_Preview>,3,5,</span><script type=math/tex>,3,5,</script></span>,<span><span class=MathJax_Preview>,6,</span><script type=math/tex>,6,</script></span>,$”的二叉树</center></p> <p><div class=codehilite><pre><span></span><span class=kd>private</span> <span class=n>String</span> <span class=nf>serialize</span><span class=p>(</span><span class=n>BinaryTreeNode</span> <span class=n>root</span><span class=p>)</span> <span class=p>{</span>
    <span class=n>StringBuilder</span> <span class=n>stream</span> <span class=o>=</span> <span class=k>new</span> <span class=n>StringBuilder</span><span class=p>();</span>

    <span class=n>serializeInner</span><span class=p>(</span><span class=n>root</span><span class=p>,</span> <span class=n>stream</span><span class=p>);</span>

    <span class=k>return</span> <span class=n>stream</span><span class=p>.</span><span class=na>toString</span><span class=p>();</span>
<span class=p>}</span>

<span class=kd>private</span> <span class=kt>void</span> <span class=nf>serializeInner</span><span class=p>(</span><span class=n>BinaryTreeNode</span> <span class=n>root</span><span class=p>,</span> <span class=n>StringBuilder</span> <span class=n>stream</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>root</span> <span class=o>==</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>stream</span><span class=p>.</span><span class=na>append</span><span class=p>(</span><span class=s>&quot;$,&quot;</span><span class=p>);</span>
        <span class=k>return</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=n>stream</span><span class=p>.</span><span class=na>append</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>value</span><span class=p>).</span><span class=na>append</span><span class=p>(</span><span class=s>&quot;,&quot;</span><span class=p>);</span>
    <span class=n>serializeInner</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>left</span><span class=p>,</span> <span class=n>stream</span><span class=p>);</span>
    <span class=n>serializeInner</span><span class=p>(</span><span class=n>root</span><span class=p>.</span><span class=na>right</span><span class=p>,</span> <span class=n>stream</span><span class=p>);</span>
<span class=p>}</span>


<span class=kd>private</span> <span class=kt>int</span> <span class=n>index</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
<span class=kd>private</span> <span class=n>BinaryTreeNode</span> <span class=nf>deserialize</span><span class=p>(</span><span class=n>String</span> <span class=n>stream</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>stream</span> <span class=o>==</span> <span class=kc>null</span> <span class=o>||</span> <span class=n>stream</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span> <span class=p>{</span>
        <span class=k>return</span> <span class=kc>null</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=n>String</span><span class=o>[]</span> <span class=n>chars</span> <span class=o>=</span> <span class=n>stream</span><span class=p>.</span><span class=na>split</span><span class=p>(</span><span class=s>&quot;,&quot;</span><span class=p>);</span>
    <span class=n>index</span> <span class=o>=</span> <span class=mi>0</span> <span class=p>;</span>
    <span class=k>return</span> <span class=n>deserializeInner</span><span class=p>(</span><span class=n>chars</span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>private</span> <span class=n>BinaryTreeNode</span> <span class=nf>deserializeInner</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>chars</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>chars</span><span class=o>[</span><span class=n>index</span><span class=o>]</span><span class=p>.</span><span class=na>equals</span><span class=p>(</span><span class=s>&quot;$&quot;</span><span class=p>))</span> <span class=p>{</span>
        <span class=n>index</span><span class=o>++</span><span class=p>;</span>
        <span class=k>return</span> <span class=kc>null</span><span class=p>;</span>
    <span class=p>}</span>
    <span class=n>BinaryTreeNode</span> <span class=n>node</span> <span class=o>=</span> <span class=k>new</span> <span class=n>BinaryTreeNode</span><span class=p>(</span><span class=n>Integer</span><span class=p>.</span><span class=na>parseInt</span><span class=p>(</span><span class=n>chars</span><span class=o>[</span><span class=n>index</span><span class=o>++]</span><span class=p>));</span>
    <span class=n>node</span><span class=p>.</span><span class=na>left</span> <span class=o>=</span> <span class=n>deserializeInner</span><span class=p>(</span><span class=n>chars</span><span class=p>);</span>
    <span class=n>node</span><span class=p>.</span><span class=na>right</span> <span class=o>=</span> <span class=n>deserializeInner</span><span class=p>(</span><span class=n>chars</span><span class=p>);</span>

    <span class=k>return</span> <span class=n>node</span><span class=p>;</span>
<span class=p>}</span>
</pre></div> 总结序列化和反序列化的过程，就会发现我们都是把二叉树分解为3部分：根节点、左子树和右子树。我们在处理它的根节点之后再分别处理它的左右子树。这就是典型的把问题递归分解然后逐个解决的过程。</p> <h3 id=34-38>3.4 (38)字符串的排列<a class=headerlink href=#34-38 title="Permanent link">&para;</a></h3> <blockquote> <p>输入一个字符串，打印出该字符串中字符的所有排列。例如输入字符串abc，则打印出由字符a、b、c所能排列出来的所有字符串abc、acb、bac、bca、cab和cba。</p> </blockquote> <p>我们可以考虑把这个复杂问题分解成小的问题。比如，我们把第一个字符串看成由两部分组成：第一部分是它的第一个字符；第二部分是后面的所有字符。<br> 我们求整个字符串的排列，可以看成两步。第一步求所有可能出现在第一个位置的字符，即把第一个字符和后面所有的字符交换。第二步固定第一个字符，求后面所有字符的排列。这时候我们仍然把后面的所有字符分为两部分：后面字符的第一个字符，以及这个字符之后的所有字符。然后把第一个字符逐一和它后面的字符交换。这就是典型的递归思路。 </p> <p>此题同<a href=/leetcode/leetcode41-50/#46-permutations>LC-46-Permutations</a></p> <div class=codehilite><pre><span></span><span class=kd>private</span> <span class=kt>void</span> <span class=nf>permutation</span><span class=p>(</span><span class=n>String</span> <span class=n>str</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>str</span> <span class=o>==</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=n>permutationInner</span><span class=p>(</span><span class=n>str</span><span class=p>.</span><span class=na>toCharArray</span><span class=p>(),</span> <span class=mi>0</span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>private</span> <span class=kt>void</span> <span class=nf>permutationInner</span><span class=p>(</span><span class=kt>char</span><span class=o>[]</span> <span class=n>str</span><span class=p>,</span> <span class=kt>int</span> <span class=n>begin</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>begin</span> <span class=o>==</span> <span class=n>str</span><span class=p>.</span><span class=na>length</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>str</span><span class=p>);</span>
    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>begin</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>str</span><span class=p>.</span><span class=na>length</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
            <span class=c1>// TODO swap method</span>
            <span class=kt>char</span> <span class=n>temp</span> <span class=o>=</span> <span class=n>str</span><span class=o>[</span><span class=n>begin</span><span class=o>]</span><span class=p>;</span>
            <span class=n>str</span><span class=o>[</span><span class=n>begin</span><span class=o>]</span> <span class=o>=</span> <span class=n>str</span><span class=o>[</span><span class=n>i</span><span class=o>]</span><span class=p>;</span>
            <span class=n>str</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>=</span> <span class=n>temp</span><span class=p>;</span>

            <span class=n>permutationInner</span><span class=p>(</span><span class=n>str</span><span class=p>,</span> <span class=n>begin</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span>

            <span class=c1>// TODO swap method</span>
            <span class=n>temp</span> <span class=o>=</span> <span class=n>str</span><span class=o>[</span><span class=n>begin</span><span class=o>]</span><span class=p>;</span>
            <span class=n>str</span><span class=o>[</span><span class=n>begin</span><span class=o>]</span> <span class=o>=</span> <span class=n>str</span><span class=o>[</span><span class=n>i</span><span class=o>]</span><span class=p>;</span>
            <span class=n>str</span><span class=o>[</span><span class=n>i</span><span class=o>]</span> <span class=o>=</span> <span class=n>temp</span><span class=p>;</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>}</span>
</pre></div> <div class="admonition info"> <p class=admonition-title>本题扩展</p> <p>如果不是求字符的所有排列，而是求字符的所有组合，应该怎么办呢？<br> <cite>还是输入个字符a、b、c，则它们的组合有a、b、c、ab、ac、bc、abc。当交换字符串中的两个字符时，虽然能得到两个不同的排列，但却是同一个组合。比如ab和ba是不同的排列，但只算一个组合。<br> 如果输入n个字符，则这n个字符能构成长度为1,2,...,n的组合。在求n个字符的长度为m（1≤m≤n）的组合的时候，我们把这n个字符分成两部分:第一个字符和其余的所有字符。如果组合里包含第一个字符，则下一步在剩余的字符里选取m-1个字符；如果组合里不包含第一个字符，则下一步在剩余的n-1个符里选取m个字符。也就是说，我们可以把求n个字符组成长度为m的组合的问题分解成两个子问题，分别求n-1个字符中长度为m-1的组合，以及求n-1个字符中长度为m的组合。这两个子问题都可以用递归的方式解决。</cite></p> </div> <div class="admonition info"> <p class=admonition-title>相关题目</p> <p>输入一个含有8个数字的数组，判断有没有可能把这8个数字分别放到正方体的8个顶点上，使得正方体上三组相对的面上的4个顶点的和都相等。<br> <em>这相当于先得到a1到a8这8个数字的所有排列，然后判断有没有某一个排列符合题目给定的条件，即a1+a2+a3+a4=a5+a6+a7+a8, a1+a3+a5+a7=a2+a4+a6+a8, a1+a2+a5+a6=a3+a4+a7+a8</em><br> <img alt=把8个数字放到正方体的8个顶点上 src=/assets/images/leetcode/ci_38_expand.png><br> <center>把8个数字放到正方体的8个顶点上</center></p> </div> <div class="admonition info"> <p class=admonition-title>相关题目</p> <p>在8x8的国际象棋上摆放8个皇后，使其不能相互攻击，即任意两个皇后不得处在同一行、同一列或者同一条对角线上。图中的每个黑色格子表示一个皇后，这就是一种符合条件的摆放方法。请问总共有多少种符合条件的摆法？ <br> <em>由于8个皇后的任意两个不能处在同一行，那么肯定是每一个皇后占据一行。于是我们可以定义一个数组ColumnIndex[8]，数组中第i个数字表示位于第i行的皇后的列号。先把数组ColumnIndex的8个数字分别用0~7初始化，然后对数组ColumnIndex进行全排列。因为我们用不同的数字初始化数组，所以任意两个皇后肯定不同列。只需判断每一个排列对应的8个皇后是不是在同一条对角线上，也就是对于数组的两个下标i和j，是否有i-j=ColumnIndex[i]-ColumnIndex[j]或者j-i=ColumnIndex[i]-ColumnIndex[i]</em><br> <img alt=8皇后问题 src=/assets/images/leetcode/ci_38_expand2.png><br> <center>8皇后问题</center></p> </div> <div class="admonition info"> <p class=admonition-title>举一反三</p> <p>如果题目是按照一定要求摆放若干个数字，则可以先求出这些数字的所有排列，然后一一判断每个排列是不是满足题目的要求。</p> </div> <hr> <div class=md-source-date> <small> 最后更新: 2020年3月13日 </small> </div> <h2 id=__comments>评论</h2> <div id=disqus_thread></div> <script>
    var disqus_config = function () {
      this.page.url = "https://blog.yorek.xyz/about-me/leetcode/code_interviews_4/";
      this.page.identifier =
        "/leetcode/code_interviews_4/";
    };
    (function() {
      var d = document, s = d.createElement("script");
      s.src = "//yorekliu.disqus.com/embed.js";
      s.setAttribute("data-timestamp", +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href=../code_interviews_3/ title=高质量的代码 class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> 上一页 </span> 高质量的代码 </span> </div> </a> <a href=../code_interviews_5/ title=优化时间和空间效率 class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> 下一页 </span> 优化时间和空间效率 </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> &copy; 2020 Yorek </div> powered by <a href=https://www.mkdocs.org>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ > Material for MkDocs</a> </div> <div class=md-footer-social> <link rel=stylesheet href=../../assets/fonts/font-awesome.css> <a href=https://github.com/YorekLiu class="md-footer-social__link fa fa-github"></a> <a href=lyytogether@gmail.com class="md-footer-social__link fa fa-email"></a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/application.808e90bb.js></script> <script src=../../assets/javascripts/lunr/lunr.stemmer.support.js></script> <script src=../../assets/javascripts/lunr/tinyseg.js></script> <script src=../../assets/javascripts/lunr/lunr.ja.js></script> <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>